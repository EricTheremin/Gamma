<!DOCTYPE html>
<html lang="en">
  <head>
    {% csrf_token %}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load staticfiles %}

	<link rel="icon" href="{% static 'pipeline/images/favicon.ico' %}" type="image/ico" />

    <title>Gamma Analytics | </title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/bootstrap/dist/css/bootstrap.min.css' %}">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/font-awesome/css/font-awesome.min.css' %}">

    <!-- NProgress -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/nprogress/nprogress.css' %}">

    <!-- iCheck -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/iCheck/skins/flat/green.css' %}">
	
    <!-- bootstrap-progressbar -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css' %}">

    <!-- JQVMap -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/jqvmap/dist/jqvmap.min.css' %}">

    <!-- bootstrap-daterangepicker -->
    <link rel="stylesheet" href="{% static 'pipeline/vendors/bootstrap-daterangepicker/daterangepicker.css' %}">

    <!-- Custom Theme Style -->
    <link rel="stylesheet" href="{% static 'pipeline/build/css/custom.min.css' %}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- amCharts -->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    <script src="https://www.amcharts.com/lib/4/maps.js"></script>
    <script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>

    <!-- select2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

    <script>


        am4core.useTheme(am4themes_animated);

        let pipeline_chart = null;
        let map = null;


        // variables

        let page_loading = true;

        let pipeline_data = new Set();


        let country_req_data = {};
        let max_req = 1;
        let max_shortfalls = 1;

        let countries = new Set();
        let country_rb = {};
        let country_isos = new Set();
        let rbs = new Set();
        let wbss = new Set();
        let commodities = new Set();

        let selectable_rbs = new Set();
        let selectable_countries = new Set();
        let selectable_wbss = new Set();
        let selectable_commodities = new Set();

        let selected_rb = null;
        let selected_country = null;
        let selected_wbs = null;
        let selected_com = null;

        let periods = [];
        let display_pipeline_data = {};

        let map_polygonSeries = null;
        let map_circleSeries = null;

        {% for period in periods %}
            periods.push("{{period.date_start|escapejs}}");
        {% endfor %}

        {% for rb in rbs %}
            rbs.add("{{rb.name|escapejs}}");
            selectable_rbs.add("{{rb.name|escapejs}}");
        {% endfor %}

        {% for country in countries %}
            iso_ = "{{country.iso_code|escapejs}}";
            rb_ = "{{country.rb.name|escapejs}}";
            countries.add({
                "iso": iso_,
                "name": "{{country.name|escapejs}}",
                "rb": rb_
            });
            country_isos.add(iso_);
            country_rb[iso_] = rb_;
            selectable_countries.add(iso_);
        {% endfor %}

        {% for wbs in wbss %}
            code = "{{wbs.code|escapejs}}";
            wbss.add({
                "code":code,
                "country": "{{wbs.country.iso_code|escapejs}}",
            });
            selectable_wbss.add(code);
        {% endfor %}

        {% for com in commodities %}
            com_name = "{{com.name|escapejs}}";
            commodities.add({
                "name": com_name,
                "p_name": "{{com.planning_name|escapejs}}",
            });
            selectable_commodities.add(com_name);
        {% endfor %}

        {% for pip in pipeline %}
            pipeline_data.add({
                "country": "{{pip.country.iso_code|escapejs}}",
                "wbs": "{{pip.wbs.code|escapejs}}",
                "period": "{{pip.period.date_start|escapejs}}",
                "commodity": "{{pip.commodity.name|escapejs}}",
                "imp_reqs_mt": {{pip.implementation_reqs_mt}},
                "imp_resourced_mt": {{pip.implementation_resourced_mt}},
                "imp_reqs_fcr": {{pip.implementation_reqs_fcr}},
                "imp_resourced_fcr": {{pip.implementation_resourced_fcr}}
            });
        {% endfor %}

        function FilterRB(){
            selected_rb = $("#rb_selector").val();
            if(!page_loading){
                UpdatePipelineDisplay();
                UpdateCountryFilter();
                UpdateWBSFilter();
                UpdateCommodityFilter();
            }
        }
        function FilterCountry(){
            selected_country = $("#country_selector").val();
            if(!page_loading){
                UpdatePipelineDisplay();
                UpdateWBSFilter();
                UpdateCommodityFilter();
            }
        }
        function FilterWBS(){
            selected_wbs = $("#wbs_selector").val();
            if(!page_loading){
                UpdatePipelineDisplay();
                UpdateCommodityFilter();
            }
        }
        function FilterCom(){
            selected_com = $("#commodity_selector").val();
            if(!page_loading){
                UpdatePipelineDisplay();
                {#UpdateRBFilter();#}
                {#UpdateCountryFilter();#}
                {#UpdateWBSFilter();#}
            }
        }


        function UpdatePipelineDisplay() {

            for (let i = 0; i < periods.length; i++) {
               display_pipeline_data[periods[i]] = {
                    "imp_reqs_mt": 0,
                    "imp_resourced_mt": 0,
                    "imp_reqs_fcr": 0,
                    "imp_resourced_fcr": 0
                };
            }

            country_req_data = {};
            for (let country of countries) {
                country_req_data[country.iso] = {"imp_req": 0, "imp_shortfalls": 0};
            }

            selectable_rbs.clear();
            selectable_countries.clear();
            selectable_wbss.clear();
            selectable_commodities.clear();

            for (let pip of pipeline_data) {

                if ((selected_rb == null || selected_rb === "" || selected_rb === country_rb[pip.country])
                    && (selected_country == null || selected_country === "" || selected_country === pip.country)
                    && (selected_wbs == null || selected_wbs === "" || selected_wbs === pip.wbs)
                    && (selected_com == null || selected_com === "" || selected_com === pip.commodity)){

                    display_pipeline_data[pip.period].imp_reqs_mt = display_pipeline_data[pip.period].imp_reqs_mt + pip.imp_reqs_mt;
                    display_pipeline_data[pip.period].imp_resourced_mt = display_pipeline_data[pip.period].imp_resourced_mt + pip.imp_resourced_mt;
                    display_pipeline_data[pip.period].imp_reqs_fcr = display_pipeline_data[pip.period].imp_reqs_fcr + pip.imp_reqs_fcr;
                    display_pipeline_data[pip.period].imp_resourced_fcr = display_pipeline_data[pip.period].imp_resourced_fcr + pip.imp_resourced_fcr;

                    country_req_data[pip.country].imp_req = country_req_data[pip.country].imp_req + pip.imp_reqs_mt;
                    country_req_data[pip.country].imp_shortfalls = country_req_data[pip.country].imp_shortfalls + (pip.imp_reqs_mt - pip.imp_resourced_mt);

                    selectable_rbs.add(country_rb[pip.country]);
                    selectable_countries.add(pip.country);
                    selectable_wbss.add(pip.wbs);
                    selectable_commodities.add(pip.commodity);
                }
            }

            // update pipeline chart data
            for (let i = 0; i < periods.length; i++) {
                let p = periods[i];
                pipeline_chart.data[i] = {
                    "date": p,
                    "req": Math.round(display_pipeline_data[p].imp_reqs_mt),
                    "resourced": Math.round(display_pipeline_data[p].imp_resourced_mt)
                };
            }
            pipeline_chart.invalidateData();

            max_req = 1;
            max_shortfalls = 1;
            for (let country of countries) {
                if(max_req < country_req_data[country.iso].imp_req){
                    max_req = country_req_data[country.iso].imp_req
                }
                if(max_shortfalls < country_req_data[country.iso].imp_shortfalls){
                    max_shortfalls = country_req_data[country.iso].imp_shortfalls
                }
            }

            if(!page_loading){
                UpdateMapCircles();
            }

        }

        function UpdateMapCircles(){

            map_polygonSeries.mapPolygons.each(function (mapPolygon) {

                if (country_isos.has(mapPolygon.id)) {
                    let country_shortfalls = Math.round(country_req_data[mapPolygon.id].imp_shortfalls);
                    let polygon = mapPolygon.dummyData;

                    if (country_shortfalls > 0) {
                        polygon.multiPolygon = am4maps.getCircle(mapPolygon.visualLongitude, mapPolygon.visualLatitude, 4 * Math.sqrt(country_shortfalls) / Math.sqrt(max_shortfalls));
                        polygon.tooltipText = mapPolygon.dataItem.dataContext.name + ": " + numberWithCommas(country_shortfalls) + " mt";
                        mapPolygon.tooltipText = "";
                        mapPolygon.fillOpacity = 1;
                    }
                    else{
                        polygon.multiPolygon = am4maps.getCircle(mapPolygon.visualLongitude, mapPolygon.visualLatitude, 0);
                        polygon.tooltipText = "";
                        mapPolygon.tooltipText = mapPolygon.dataItem.dataContext.name + ": no shortfalls in selection";
                        mapPolygon.fillOpacity = 0.3;
                    }
                }
                else {
                    mapPolygon.tooltipText = mapPolygon.dataItem.dataContext.name + ": no shortfalls";
                    mapPolygon.fillOpacity = 0.3;
                }

            });
        }

        function UpdateRBFilter(){

            let rb_selector = $("#rb_selector");
            rb_selector.empty();
            for(let rb of rbs) {
                if(selectable_rbs.has(rb)){
                    rb_selector.append("<option value='" + rb + "'>" + rb + "</option>");
                }
            }
            rb_selector.val(null).trigger('change');
        }
        function UpdateCountryFilter(){

            let country_selector = $("#country_selector");
            country_selector.empty();
            for(let country of countries) {
                if(selectable_countries.has(country.iso)){
                    country_selector.append("<option value='" + country.iso + "'>" + country.name + "</option>");
                }
            }
            country_selector.val(null).trigger('change');
        }
        function UpdateWBSFilter(){

            let wbs_selector = $("#wbs_selector");
            wbs_selector.empty();
            for(let wbs of wbss) {
                if(selectable_wbss.has(wbs.code)){
                    wbs_selector.append("<option value='" + wbs.code + "'>" + wbs.code + "</option>");
                }
            }
            wbs_selector.val(null).trigger('change');
        }
        function UpdateCommodityFilter(){

            let commodity_selector = $("#commodity_selector");
            let val_com = $("#commodity_selector").val()
            commodity_selector.empty();
            for(let com of commodities) {
                if(selectable_commodities.has(com.name)){
                    commodity_selector.append("<option value='" + com.name + "'>" + com.name + "</option>");
                }
            }
            if(val_com==null){
                commodity_selector.val(null).trigger('change');
            }
            else{
                commodity_selector.val(val_com).trigger('change');
            }
        }


        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        $(document).ready(function() {

            let rb_selector = $("#rb_selector");
            rb_selector.select2();
            rb_selector.select2({
                placeholder: "All regional bureaux",
                allowClear: true
            });

            let country_selector = $("#country_selector");
            country_selector.select2();
            country_selector.select2({
                placeholder: "All countries",
                allowClear: true
            });

            let wbs_selector = $("#wbs_selector");
            wbs_selector.select2();
            wbs_selector.select2({
                placeholder: "All WBS elements",
                allowClear: true
            });

            let commodity_selector = $("#commodity_selector");
            commodity_selector.select2();
            commodity_selector.select2({
                placeholder: "All commodities",
                allowClear: true
            });

            // initiate the filter selectors
            UpdateRBFilter();
            UpdateCountryFilter();
            UpdateWBSFilter();
            UpdateCommodityFilter();



            /////// build pipeline chart

            // Create chart instance
            pipeline_chart = am4core.create("timelineChartDiv", am4charts.XYChart);

            // Export
            pipeline_chart.exporting.menu = new am4core.ExportMenu();

            pipeline_chart.dateFormatter.inputDateFormat = "yyyy-MM-dd";

            /* Create axes */
            let pipeline_dateAxis = pipeline_chart.xAxes.push(new am4charts.DateAxis());
            pipeline_dateAxis.start = 0;
            pipeline_dateAxis.end = 0.5;
            pipeline_dateAxis.keepSelection = true;

            /* Create value axis */
            let pipeline_valueAxis = pipeline_chart.yAxes.push(new am4charts.ValueAxis());
            pipeline_valueAxis.min = 0;

            /* Create series */
            let pipeline_columnSeries = pipeline_chart.series.push(new am4charts.ColumnSeries());
            pipeline_columnSeries.name = "Resourced";
            pipeline_columnSeries.dataFields.valueY = "resourced";
            pipeline_columnSeries.dataFields.dateX = "date";

            pipeline_columnSeries.columns.template.tooltipText = "[#fff font-size: 15px]{name} {categoryX}:\n[/][#fff font-size: 20px]{valueY} mt[/] [#fff]{additional}[/]";
            pipeline_columnSeries.columns.template.propertyFields.fillOpacity = "fillOpacity";
            pipeline_columnSeries.columns.template.propertyFields.stroke = "stroke";
            pipeline_columnSeries.columns.template.propertyFields.strokeWidth = "strokeWidth";
            pipeline_columnSeries.columns.template.propertyFields.strokeDasharray = "columnDash";
            pipeline_columnSeries.tooltip.label.textAlign = "middle";
            pipeline_columnSeries.stroke = am4core.color("rgba(3, 88, 106, 0.5)");
            pipeline_columnSeries.fill = am4core.color("rgba(3, 88, 106, 0.5)");


            let pipeline_lineSeries = pipeline_chart.series.push(new am4charts.LineSeries());
            pipeline_lineSeries.name = "Implementation Requirements";
            pipeline_lineSeries.dataFields.valueY = "req";
            pipeline_lineSeries.dataFields.dateX = "date";

            pipeline_lineSeries.stroke = am4core.color("rgba(38, 185, 154, 0.5)");
            pipeline_lineSeries.strokeWidth = 3;
            pipeline_lineSeries.propertyFields.strokeDasharray = "lineDash";
            pipeline_lineSeries.tooltip.label.textAlign = "middle";

            let pipeline_bullet = pipeline_lineSeries.bullets.push(new am4charts.Bullet());
            pipeline_bullet.fill = am4core.color("rgba(38, 185, 154, 0.5)"); // tooltips grab fill from parent by default
            pipeline_bullet.tooltipText = "[#fff font-size: 15px]{name} {categoryX}:\n[/][#fff font-size: 20px]{valueY} mt[/] [#fff]{additional}[/]";
            let pipeline_circle = pipeline_bullet.createChild(am4core.Circle);
            pipeline_circle.radius = 4;
            pipeline_circle.fill = am4core.color("#fff");
            pipeline_circle.strokeWidth = 3;

            // Create a horizontal scrollbar with previe and place it underneath the date axis
            pipeline_chart.scrollbarX = new am4charts.XYChartScrollbar();
            pipeline_chart.scrollbarX.series.push(pipeline_columnSeries);
            pipeline_chart.scrollbarX.series.push(pipeline_lineSeries);
            pipeline_chart.scrollbarX.parent = pipeline_chart.bottomAxesContainer;


            /////// build world map

            map = am4core.create("world-map-div", am4maps.MapChart);

            // Set map definition
            map.geodata = am4geodata_worldLow;

            // Set projection
            map.projection = new am4maps.projections.Orthographic();
            map.panBehavior = "rotateLongLat";
            map.deltaLatitude = -20;
            map.padding(20,20,20,20);

            // limits vertical rotation
            map.adapter.add("deltaLatitude", function(delatLatitude){
                return am4core.math.fitToRange(delatLatitude, -90, 90);
            });

            // Add zoom control
            map.zoomControl = new am4maps.ZoomControl();

            var map_homeButton = new am4core.Button();
            map_homeButton.events.on("hit", function(){
              map.goHome();
            });

            map_homeButton.icon = new am4core.Sprite();
            map_homeButton.padding(7, 5, 7, 5);
            map_homeButton.width = 30;
            map_homeButton.icon.path = "M16,8 L14,8 L14,16 L10,16 L10,10 L6,10 L6,16 L2,16 L2,8 L0,8 L8,0 L16,8 Z M16,8";
            map_homeButton.marginBottom = 10;
            map_homeButton.parent = map.zoomControl;
            map_homeButton.insertBefore(map.zoomControl.plusButton);


            // Create map polygon series
            map_polygonSeries = map.series.push(new am4maps.MapPolygonSeries());
            // Make map load polygon (like country names) data from GeoJSON
            map_polygonSeries.useGeodata = true;
            map_polygonSeries.calculateVisualCenter = true;
            map_polygonSeries.tooltip.background.fillOpacity = 0.2;
            map_polygonSeries.tooltip.background.cornerRadius = 20;


            // Configure series
            var map_polygonTemplate = map_polygonSeries.mapPolygons.template;
            //polygonTemplate.tooltipText = "{name}";
            map_polygonTemplate.fill = am4core.color("rgba(3, 88, 106, 0.5)");
            map_polygonTemplate.stroke = am4core.color("rgba(120, 120, 120, 0.5)");

            map_polygonTemplate.strokeWidth = 0.5;
            // ? polygonTemplate.nonScalingStroke = true;

            map_polygonTemplate.propertyFields.id = "id";
            map_polygonTemplate.tooltipPosition = "fixed";
            map_polygonTemplate.fillOpacity = 1;

            map_polygonTemplate.events.on("over", function (event) {
              if (event.target.dummyData) {
                event.target.dummyData.isHover = true;
              }
            });
            map_polygonTemplate.events.on("out", function (event) {
              if (event.target.dummyData) {
                event.target.dummyData.isHover = false;
              }
            });

            var map_graticuleSeries = map.series.push(new am4maps.GraticuleSeries());
            map_graticuleSeries.mapLines.template.line.stroke = am4core.color("#03677a");
            map_graticuleSeries.mapLines.template.line.strokeOpacity = 0.05;
            map_graticuleSeries.fitExtent = false;

            map.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 0.1;
            map.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color("#454a58");

            // Create hover state and set alternative fill color
            var map_hs = map_polygonTemplate.states.create("hover");
            //hs.properties.fill = map.colors.getIndex(0).brighten(-0.5);
            map_hs.properties.fillOpacity = 1;
            map_hs.properties.fill = am4core.color("#26B99A");

            map_circleSeries = map.series.push(new am4maps.MapPolygonSeries());
            map_circleSeries.tooltip.background.fillOpacity = 0.5;
            map_circleSeries.tooltip.background.cornerRadius = 20;
            map_circleSeries.tooltip.autoTextColor = false;
            map_circleSeries.tooltip.label.fill = am4core.color("#fff");
            map_circleSeries.tooltip.dy = -5;

            var map_circleTemplate = map_circleSeries.mapPolygons.template;
            map_circleTemplate.fill = am4core.color("#2e4786");
            map_circleTemplate.strokeOpacity = 0;
            map_circleTemplate.fillOpacity = 0.6;
            map_circleTemplate.tooltipPosition = "fixed";


            var map_hs2 = map_circleSeries.mapPolygons.template.states.create("hover");
            map_hs2.properties.fillOpacity = 1;
            map_hs2.properties.fill = am4core.color("#2e4786");

            map_polygonSeries.events.on("inited", function () {
              map_polygonSeries.mapPolygons.each(function (mapPolygon) {
                if (country_isos.has(mapPolygon.id)) {
                    let polygon = map_circleSeries.mapPolygons.create();
                    polygon.multiPolygon = am4maps.getCircle(mapPolygon.visualLongitude, mapPolygon.visualLatitude, 1);
                    mapPolygon.dummyData = polygon;
                    polygon.dummyData = mapPolygon;

                    polygon.events.on("over", function () {
                        mapPolygon.isHover = true;
                    });
                    polygon.events.on("out", function () {
                        mapPolygon.isHover = false;
                        mapPolygon.fillOpacity = 1;
                    })
                }
              });

                UpdateMapCircles()
            });


            // Event clic on a country or its circle
            map_polygonTemplate.events.on("hit", function(ev) {
              //ev.target.series.chart.zoomToMapObject(ev.target);
              ClickOnCountry(ev.target.id);
            });
            map_circleTemplate.events.on("hit", function(ev) {
              //ev.target.series.chart.zoomToMapObject(ev.target.dummyData);
              ClickOnCountry(ev.target.dummyData.id);
            });

            let map_animation;
            setTimeout(function(){
              map_animation = map.animate({property:"deltaLongitude", to:100000}, 20000000);
            }, 3000);

            map.seriesContainer.events.on("down", function(){
            if(map_animation){
              map_animation.stop();
            }
            });

            UpdatePipelineDisplay();

            page_loading = false
        });

        function ClickOnCountry(country_iso){
            if(selectable_countries.has(country_iso)){
               $("#country_selector").val(country_iso).trigger('change');
            }
        }

    </script>

  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title">
                  <span><img src="{% static 'pipeline/images/gamma1.png' %}" style="width: 25px; margin-right: 5px">Gamma Analytics</span>
              </a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_info">
                <span>Welcome,</span>
                <h2>John Doe</h2>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a><i class="fa fa-home"></i> Home <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="/">Home</a></li>
{#                      <li><a href="index2.html">Dashboard2</a></li>#}
{#                      <li><a href="index3.html">Dashboard3</a></li>#}
                    </ul>
                  </li>
                  <li><a><i class="fa fa-bar-chart-o"></i> Pipeline projections <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                        <li><a href="/pipeline">Pipeline overview</a></li>
{#                      <li><a href="form.html">General Form</a></li>#}
{#                      <li><a href="form_advanced.html">Advanced Components</a></li>#}
{#                      <li><a href="form_validation.html">Form Validation</a></li>#}
{#                      <li><a href="form_wizards.html">Form Wizard</a></li>#}
{#                      <li><a href="form_upload.html">Form Upload</a></li>#}
{#                      <li><a href="form_buttons.html">Form Buttons</a></li>#}
                    </ul>
                  </li>
                  <li><a><i class="fa fa-table"></i> Data <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                        <li><a href="/pipeline/load">Load data</a></li>
{#                      <li><a href="tables.html">Tables</a></li>#}
{#                      <li><a href="tables_dynamic.html">Table Dynamic</a></li>#}
                    </ul>
                  </li>
                  <li><a><i class="fa fa-desktop"></i> Reports <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
{#                      <li><a href="general_elements.html">General Elements</a></li>#}
{#                      <li><a href="media_gallery.html">Media Gallery</a></li>#}
{#                      <li><a href="typography.html">Typography</a></li>#}
{#                      <li><a href="icons.html">Icons</a></li>#}
{#                      <li><a href="glyphicons.html">Glyphicons</a></li>#}
{#                      <li><a href="widgets.html">Widgets</a></li>#}
{#                      <li><a href="invoice.html">Invoice</a></li>#}
{#                      <li><a href="inbox.html">Inbox</a></li>#}
{#                      <li><a href="calendar.html">Calendar</a></li>#}
                    </ul>
                  </li>
{#                  <li><a><i class="fa fa-bar-chart-o"></i> Data Presentation <span class="fa fa-chevron-down"></span></a>#}
{#                    <ul class="nav child_menu">#}
{#                      <li><a href="chartjs.html">Chart JS</a></li>#}
{#                      <li><a href="chartjs2.html">Chart JS2</a></li>#}
{#                      <li><a href="morisjs.html">Moris JS</a></li>#}
{#                      <li><a href="echarts.html">ECharts</a></li>#}
{#                      <li><a href="other_charts.html">Other Charts</a></li>#}
{#                    </ul>#}
{#                  </li>#}
{#                  <li><a><i class="fa fa-clone"></i>Layouts <span class="fa fa-chevron-down"></span></a>#}
{#                    <ul class="nav child_menu">#}
{#                      <li><a href="fixed_sidebar.html">Fixed Sidebar</a></li>#}
{#                      <li><a href="fixed_footer.html">Fixed Footer</a></li>#}
{#                    </ul>#}
                  </li>
                </ul>
              </div>
              <div class="menu_section">
                <h3>Extra</h3>
                <ul class="nav side-menu">
                  <li><a><i class="fa fa-bug"></i> Additional Pages <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
{#                      <li><a href="e_commerce.html">E-commerce</a></li>#}
{#                      <li><a href="projects.html">Projects</a></li>#}
{#                      <li><a href="project_detail.html">Project Detail</a></li>#}
{#                      <li><a href="contacts.html">Contacts</a></li>#}
{#                      <li><a href="profile.html">Profile</a></li>#}
                    </ul>
                  </li>
{#                  <li><a><i class="fa fa-windows"></i> Extras <span class="fa fa-chevron-down"></span></a>#}
{#                    <ul class="nav child_menu">#}
{#                      <li><a href="page_403.html">403 Error</a></li>#}
{#                      <li><a href="page_404.html">404 Error</a></li>#}
{#                      <li><a href="page_500.html">500 Error</a></li>#}
{#                      <li><a href="plain_page.html">Plain Page</a></li>#}
{#                      <li><a href="login.html">Login Page</a></li>#}
{#                      <li><a href="pricing_tables.html">Pricing Tables</a></li>#}
{#                    </ul>#}
                </ul>
              </div>

            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Logout" href="#">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
            </div>
            <nav class="nav navbar-nav">
              <ul class=" navbar-right">
                <li class="nav-item dropdown open" style="padding-left: 15px;">
                  <a href="javascript:;" class="user-profile dropdown-toggle" aria-haspopup="true" id="navbarDropdown" data-toggle="dropdown" aria-expanded="false">John Doe</a>
                  <div class="dropdown-menu dropdown-usermenu pull-right" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item"  href="javascript:;"> Profile</a>
                      <a class="dropdown-item"  href="javascript:;">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>Settings</span>
                      </a>
                  <a class="dropdown-item"  href="javascript:;">Help</a>
                    <a class="dropdown-item"  href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a>
                  </div>
                </li>

                <li role="presentation" class="nav-item dropdown open">
                  <a href="javascript:;" class="dropdown-toggle info-number" id="navbarDropdown1" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">6</span>
                  </a>
                  <ul class="dropdown-menu list-unstyled msg_list" role="menu" aria-labelledby="navbarDropdown1">
                    <li class="nav-item">
                      <a class="dropdown-item">
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="dropdown-item">
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="dropdown-item">
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="dropdown-item">
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li class="nav-item">
                      <div class="text-center">
                        <a class="dropdown-item">
                          <strong>See All Alerts</strong>
                          <i class="fa fa-angle-right"></i>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">


            <!-- filters -->

            <div class="row" style="display: inline-block;" >
                <div>
                    <div class="col-md-12 col-sm-12 ">

                        <div class="x_content">

                          <ul class="nav nav-pills" role="tablist">
{#                            <li role="presentation" class="dropdown">#}
{#                                <a id="drop4" href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false">Dropdown<span class="caret"></span></a>#}
{#                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
{#                                  <a class="dropdown-item" href="#">Action</a>#}
{#                                  <a class="dropdown-item" href="#">Another action</a>#}
{#                                  <a class="dropdown-item" href="#">Something else here</a>#}
{#                                </div>#}
{#                            </li>#}
{#                            <li role="presentation" class="dropdown">#}
{#                              <a id="drop5" href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false">#}
{#                                          Dropdown#}
{#                                          <span class="caret"></span>#}
{#                                      </a>#}
{#                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
{#                                          <a class="dropdown-item" href="#">Action</a>#}
{#                                          <a class="dropdown-item" href="#">Another action</a>#}
{#                                          <a class="dropdown-item" href="#">Something else here</a>#}
{#                                        </div>#}
{#                            </li>#}
{#                            <li role="presentation" class="dropdown">#}
{#                              <a id="drop6" href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false">#}
{#                                          Dropdown#}
{#                                          <span class="caret"></span>#}
{#                                      </a>#}
{#                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
{#                                          <a class="dropdown-item" href="#">Action</a>#}
{#                                          <a class="dropdown-item" href="#">Another action</a>#}
{#                                          <a class="dropdown-item" href="#">Something else here</a>#}
{#                                        </div>#}
{#                            </li>#}
                            <li>
                                <div style="margin-right: 20px">
                                    <label>Regional Bureau</label>
                                    <select id="rb_selector" onchange="FilterRB(this)" style="width: 150px;"></select>
                                </div>
                            </li>
                              <li>
                                <div style="margin-right: 20px">
                                    <label>Country</label>
                                    <select id="country_selector" onchange="FilterCountry(this)" style="width: 150px;"></select>
                                </div>
                            </li>
                              <li>
                                <div style="margin-right: 20px">
                                    <label>WBS element</label>
                                    <select id="wbs_selector" onchange="FilterWBS(this)" style="width: 150px;"></select>
                                </div>
                            </li>
                            <li>
                                <div style="margin-right: 20px">
                                    <label>Commodity</label>
                                    <select id="commodity_selector" onchange="FilterCom(this)" style="width: 150px;"></select>
                                </div>
                            </li>
                          </ul>

                        </div>



{#                        <a id="country-dropdown" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Countryyyy</a>#}
{#                        <div class="dropdown-menu" aria-labelledby="country-dropdown">#}
{#                          <a class="dropdown-item" href="#">abc</a>#}
{#                          <a class="dropdown-item" href="#">def</a>#}
{#                        </div>#}


{#                        <ul>#}
{#                            <li class="dropdown">#}
{#                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>#}
{#                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
{#                                  <a class="dropdown-item" href="#">Settings 1</a>#}
{#                                  <a class="dropdown-item" href="#">Settings 2</a>#}
{#                                </div>#}
{#                            </li>#}
{#                            <li class="dropdown">#}
{#                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>#}
{#                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
{#                                  <a class="dropdown-item" href="#">Settings 1</a>#}
{#                                  <a class="dropdown-item" href="#">Settings 2</a>#}
{#                                </div>#}
{#                            </li>#}
{#                        </ul>#}

                    </div>
                </div>
            </div>

          <!-- top tiles -->
            <div class="row" style="display: inline-block;" >
              <div class="tile_count">
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-user"></i> Total Users</span>
                  <div class="count">2500</div>
                  <span class="count_bottom"><i class="green">4% </i> From last Week</span>
                </div>
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-clock-o"></i> Average Time</span>
                  <div class="count">123.50</div>
                  <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>3% </i> From last Week</span>
                </div>
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-user"></i> Total Males</span>
                  <div class="count green">2,500</div>
                  <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
                </div>
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-user"></i> Total Females</span>
                  <div class="count">4,567</div>
                  <span class="count_bottom"><i class="red"><i class="fa fa-sort-desc"></i>12% </i> From last Week</span>
                </div>
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-user"></i> Total Collections</span>
                  <div class="count">2,315</div>
                  <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
                </div>
                <div class="col-md-2 col-sm-4  tile_stats_count">
                  <span class="count_top"><i class="fa fa-user"></i> Total Connections</span>
                  <div class="count">7,325</div>
                  <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
                </div>
              </div>
            </div>

          <!-- /top tiles -->

          <div class="row">
            <div class="col-md-12 col-sm-12 ">
              <div class="dashboard_graph">

                <div class="row x_title">
                  <div class="col-md-6">
                    <h3>Pipeline <small>Implementation requirements and shortfalls</small></h3>
                  </div>
                  <div class="col-md-6">
                    <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                      <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                      <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
                    </div>
                  </div>
                </div>

                <div class="col-md-7 col-sm-12 ">
{#                  <div id="chart_plot_01" class="demo-placeholder"></div>#}
                    <div id="timelineChartDiv" style="width: 100%; height: 400px;"></div>
                </div>
                  <div id="world-map-div" class="col-md-5 col-sm-12" style="width: 100%; height: 400px;"></div>
                <div class="clearfix"></div>
              </div>
            </div>

          </div>
          <br />

          <div class="row">

            <div class="col-md-4 col-sm-4 ">
              <div class="x_panel tile fixed_height_320">
                <div class="x_title">
                  <h2>App Versions</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">Settings 1</a>
                          <a class="dropdown-item" href="#">Settings 2</a>
                        </div>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <h4>App Usage across versions</h4>
                  <div class="widget_summary">
                    <div class="w_left w_25">
                      <span>0.1.5.2</span>
                    </div>
                    <div class="w_center w_55">
                      <div class="progress">
                        <div class="progress-bar bg-green" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 66%;">
                          <span class="sr-only">60% Complete</span>
                        </div>
                      </div>
                    </div>
                    <div class="w_right w_20">
                      <span>123k</span>
                    </div>
                    <div class="clearfix"></div>
                  </div>

                  <div class="widget_summary">
                    <div class="w_left w_25">
                      <span>0.1.5.3</span>
                    </div>
                    <div class="w_center w_55">
                      <div class="progress">
                        <div class="progress-bar bg-green" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 45%;">
                          <span class="sr-only">60% Complete</span>
                        </div>
                      </div>
                    </div>
                    <div class="w_right w_20">
                      <span>53k</span>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="widget_summary">
                    <div class="w_left w_25">
                      <span>0.1.5.4</span>
                    </div>
                    <div class="w_center w_55">
                      <div class="progress">
                        <div class="progress-bar bg-green" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 25%;">
                          <span class="sr-only">60% Complete</span>
                        </div>
                      </div>
                    </div>
                    <div class="w_right w_20">
                      <span>23k</span>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="widget_summary">
                    <div class="w_left w_25">
                      <span>0.1.5.5</span>
                    </div>
                    <div class="w_center w_55">
                      <div class="progress">
                        <div class="progress-bar bg-green" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 5%;">
                          <span class="sr-only">60% Complete</span>
                        </div>
                      </div>
                    </div>
                    <div class="w_right w_20">
                      <span>3k</span>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="widget_summary">
                    <div class="w_left w_25">
                      <span>0.1.5.6</span>
                    </div>
                    <div class="w_center w_55">
                      <div class="progress">
                        <div class="progress-bar bg-green" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 2%;">
                          <span class="sr-only">60% Complete</span>
                        </div>
                      </div>
                    </div>
                    <div class="w_right w_20">
                      <span>1k</span>
                    </div>
                    <div class="clearfix"></div>
                  </div>

                </div>
              </div>
            </div>


            <div class="col-md-8 col-sm-8 ">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Countries <small>Shortfalls for the next xx months</small></h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">Settings 1</a>
                          <a class="dropdown-item" href="#">Settings 2</a>
                        </div>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div class="dashboard-widget-content">
                    <div class="col-md-4 hidden-small">
                      <h2 class="line_30">125.7k Views from 60 countries</h2>

                      <table class="countries_list">
                        <tbody>
                          <tr>
                            <td>United States</td>
                            <td class="fs15 fw700 text-right">33%</td>
                          </tr>
                          <tr>
                            <td>France</td>
                            <td class="fs15 fw700 text-right">27%</td>
                          </tr>
                          <tr>
                            <td>Germany</td>
                            <td class="fs15 fw700 text-right">16%</td>
                          </tr>
                          <tr>
                            <td>Spain</td>
                            <td class="fs15 fw700 text-right">11%</td>
                          </tr>
                          <tr>
                            <td>Britain</td>
                            <td class="fs15 fw700 text-right">10%</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-md-8 col-sm-8  bg-white">
                      <div class="x_title">
                        <h2>Top Shortfalls</h2>
                        <div class="clearfix"></div>
                      </div>

                      <div class="col-md-12 col-sm-12 ">
                        <div>
                          <p>ABC</p>
                          <div class="">
                            <div class="progress progress_sm" style="width: 76%;">
                              <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="80"></div>
                            </div>
                          </div>
                        </div>
                        <div>
                          <p>ABC</p>
                          <div class="">
                            <div class="progress progress_sm" style="width: 76%;">
                              <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="60"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 col-sm-12 ">
                        <div>
                          <p>ABC</p>
                          <div class="">
                            <div class="progress progress_sm" style="width: 76%;">
                              <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="40"></div>
                            </div>
                          </div>
                        </div>
                        <div>
                          <p>ABC</p>
                          <div class="">
                            <div class="progress progress_sm" style="width: 76%;">
                              <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 col-sm-4 ">
              <div class="x_panel">
                <div class="x_title">
                  <h2>Recent Activities <small>Sessions</small></h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">Settings 1</a>
                          <a class="dropdown-item" href="#">Settings 2</a>
                        </div>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content">
                  <div class="dashboard-widget-content">

                    <ul class="list-unstyled timeline widget">
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h2 class="title">
                                              <a>Who Needs Sundance When Youve Got&nbsp;Crowdfunding?</a>
                                          </h2>
                            <div class="byline">
                              <span>13 hours ago</span> by <a>Jane Smith</a>
                            </div>
                            <p class="excerpt">Film festivals used to be do-or-die moments for movie makers. They were where you met the producers that could fund your project, and if the buyers liked your flick, theyd pay to Fast-forward and <a>Read&nbsp;More</a>
                            </p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h2 class="title">
                                              <a>Who Needs Sundance When Youve Got&nbsp;Crowdfunding?</a>
                                          </h2>
                            <div class="byline">
                              <span>13 hours ago</span> by <a>Jane Smith</a>
                            </div>
                            <p class="excerpt">Film festivals used to be do-or-die moments for movie makers. They were where you met the producers that could fund your project, and if the buyers liked your flick, theyd pay to Fast-forward and <a>Read&nbsp;More</a>
                            </p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h2 class="title">
                                              <a>Who Needs Sundance When Youve Got&nbsp;Crowdfunding?</a>
                                          </h2>
                            <div class="byline">
                              <span>13 hours ago</span> by <a>Jane Smith</a>
                            </div>
                            <p class="excerpt">Film festivals used to be do-or-die moments for movie makers. They were where you met the producers that could fund your project, and if the buyers liked your flick, theyd pay to Fast-forward and <a>Read&nbsp;More</a>
                            </p>
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="block">
                          <div class="block_content">
                            <h2 class="title">
                                              <a>Who Needs Sundance When Youve Got&nbsp;Crowdfunding?</a>
                                          </h2>
                            <div class="byline">
                              <span>13 hours ago</span> by <a>Jane Smith</a>
                            </div>
                            <p class="excerpt">Film festivals used to be do-or-die moments for movie makers. They were where you met the producers that could fund your project, and if the buyers liked your flick, theyd pay to Fast-forward and <a>Read&nbsp;More</a>
                            </p>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>


            <div class="col-md-8 col-sm-8 ">

              <div class="row">

                <div class="col-md-6 col-sm-6 ">
                  <div class="x_panel tile fixed_height_320 overflow_hidden">
                    <div class="x_title">
                      <h2>Device Usage</h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                              <a class="dropdown-item" href="#">Settings 1</a>
                              <a class="dropdown-item" href="#">Settings 2</a>
                            </div>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                      <table class="" style="width:100%">
                        <tr>
                          <th style="width:37%;">
                            <p>Top 5</p>
                          </th>
                          <th>
                            <div class="col-lg-7 col-md-7 col-sm-7 ">
                              <p class="">Device</p>
                            </div>
                            <div class="col-lg-5 col-md-5 col-sm-5 ">
                              <p class="">Progress</p>
                            </div>
                          </th>
                        </tr>
                        <tr>
                          <td>
                            <canvas class="canvasDoughnut" height="140" width="140" style="margin: 15px 10px 10px 0"></canvas>
                          </td>
                          <td>
                            <table class="tile_info">
                              <tr>
                                <td>
                                  <p><i class="fa fa-square blue"></i>IOS </p>
                                </td>
                                <td>30%</td>
                              </tr>
                              <tr>
                                <td>
                                  <p><i class="fa fa-square green"></i>Android </p>
                                </td>
                                <td>10%</td>
                              </tr>
                              <tr>
                                <td>
                                  <p><i class="fa fa-square purple"></i>Blackberry </p>
                                </td>
                                <td>20%</td>
                              </tr>
                              <tr>
                                <td>
                                  <p><i class="fa fa-square aero"></i>Symbian </p>
                                </td>
                                <td>15%</td>
                              </tr>
                              <tr>
                                <td>
                                  <p><i class="fa fa-square red"></i>Others </p>
                                </td>
                                <td>30%</td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>

                <div class="col-md-6 col-sm-6 ">
                  <div class="x_panel tile fixed_height_320">
                    <div class="x_title">
                      <h2>Quick Settings</h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                              <a class="dropdown-item" href="#">Settings 1</a>
                              <a class="dropdown-item" href="#">Settings 2</a>
                            </div>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                      <div class="dashboard-widget-content">
                        <ul class="quick-list">
                          <li><i class="fa fa-calendar-o"></i><a href="#">Settings</a>
                          </li>
                          <li><i class="fa fa-bars"></i><a href="#">Subscription</a>
                          </li>
                          <li><i class="fa fa-bar-chart"></i><a href="#">Auto Renewal</a> </li>
                          <li><i class="fa fa-line-chart"></i><a href="#">Achievements</a>
                          </li>
                          <li><i class="fa fa-bar-chart"></i><a href="#">Auto Renewal</a> </li>
                          <li><i class="fa fa-line-chart"></i><a href="#">Achievements</a>
                          </li>
                          <li><i class="fa fa-area-chart"></i><a href="#">Logout</a>
                          </li>
                        </ul>

                        <div class="sidebar-widget">
                            <h4>Profile Completion</h4>
                            <canvas width="150" height="80" id="chart_gauge_01" class="" style="width: 160px; height: 100px;"></canvas>
                            <div class="goal-wrapper">
                              <span id="gauge-text" class="gauge-value pull-left">0</span>
                              <span class="gauge-value pull-left">%</span>
                              <span id="goal-text" class="goal-value pull-right">100%</span>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="row">


                <!-- Start to do list -->
                <div class="col-md-6 col-sm-6 ">
                  <div class="x_panel">
                    <div class="x_title">
                      <h2>To Do List <small>Sample tasks</small></h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                              <a class="dropdown-item" href="#">Settings 1</a>
                              <a class="dropdown-item" href="#">Settings 2</a>
                            </div>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">

                      <div class="">
                        <ul class="to_do">
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Schedule meeting with new client </p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Create email address for new intern</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Have IT fix the network printer</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Copy backups to offsite location</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Food truck fixie locavors mcsweeney</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Food truck fixie locavors mcsweeney</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Create email address for new intern</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Have IT fix the network printer</p>
                          </li>
                          <li>
                            <p>
                              <input type="checkbox" class="flat"> Copy backups to offsite location</p>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- End to do list -->
                
                <!-- start of weather widget -->
                <div class="col-md-6 col-sm-6 ">
                  <div class="x_panel">
                    <div class="x_title">
                      <h2>Daily active users <small>Sessions</small></h2>
                      <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                              <a class="dropdown-item" href="#">Settings 1</a>
                              <a class="dropdown-item" href="#">Settings 2</a>
                            </div>
                        </li>
                        <li><a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                      </ul>
                      <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="temperature"><b>Monday</b>, 07:30 AM
                            <span>F</span>
                            <span><b>C</b></span>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-sm-4">
                          <div class="weather-icon">
                            <canvas height="84" width="84" id="partly-cloudy-day"></canvas>
                          </div>
                        </div>
                        <div class="col-sm-8">
                          <div class="weather-text">
                            <h2>Texas <br><i>Partly Cloudy Day</i></h2>
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-12">
                        <div class="weather-text pull-right">
                          <h3 class="degrees">23</h3>
                        </div>
                      </div>

                      <div class="clearfix"></div>

                      <div class="row weather-days">
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Mon</h2>
                            <h3 class="degrees">25</h3>
                            <canvas id="clear-day" width="32" height="32"></canvas>
                            <h5>15 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Tue</h2>
                            <h3 class="degrees">25</h3>
                            <canvas height="32" width="32" id="rain"></canvas>
                            <h5>12 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Wed</h2>
                            <h3 class="degrees">27</h3>
                            <canvas height="32" width="32" id="snow"></canvas>
                            <h5>14 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Thu</h2>
                            <h3 class="degrees">28</h3>
                            <canvas height="32" width="32" id="sleet"></canvas>
                            <h5>15 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Fri</h2>
                            <h3 class="degrees">28</h3>
                            <canvas height="32" width="32" id="wind"></canvas>
                            <h5>11 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="col-sm-2">
                          <div class="daily-weather">
                            <h2 class="day">Sat</h2>
                            <h3 class="degrees">26</h3>
                            <canvas height="32" width="32" id="cloudy"></canvas>
                            <h5>10 <i>km/h</i></h5>
                          </div>
                        </div>
                        <div class="clearfix"></div>
                      </div>
                    </div>
                  </div>

                </div>
                <!-- end of weather widget -->
              </div>
            </div>
          </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <footer>
          <div class="pull-right">
            Gentelella - Bootstrap Admin Template by <a href="https://colorlib.com">Colorlib</a>
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- jQuery -->
{#    <script src="{% static 'pipeline/vendors/jquery/dist/jquery.min.js' %}"></script>#}

    <!-- Bootstrap -->
    <script src="{% static 'pipeline/vendors/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>

    <!-- FastClick -->
    <script src="{% static 'pipeline/vendors/fastclick/lib/fastclick.js' %}"></script>

    <!-- NProgress -->
    <script src="{% static 'pipeline/vendors/nprogress/nprogress.js' %}"></script>

    <!-- Chart.js -->
    <script src="{% static 'pipeline/vendors/Chart.js/dist/Chart.min.js' %}"></script>

    <!-- gauge.js -->
    <script src="{% static 'pipeline/vendors/gauge.js/dist/gauge.min.js' %}"></script>

    <!-- bootstrap-progressbar -->
    <script src="{% static 'pipeline/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js' %}"></script>

    <!-- iCheck -->
    <script src="{% static 'pipeline/vendors/iCheck/icheck.min.js' %}"></script>

    <!-- Skycons -->
    <script src="{% static 'pipeline/vendors/skycons/skycons.js' %}"></script>

    <!-- Flot -->
    <script src="{% static 'pipeline/vendors/Flot/jquery.flot.js' %}"></script>
    <script src="{% static 'pipeline/vendors/Flot/jquery.flot.pie.js' %}"></script>
    <script src="{% static 'pipeline/vendors/Flot/jquery.flot.time.js' %}"></script>
    <script src="{% static 'pipeline/vendors/Flot/jquery.flot.stack.js' %}"></script>
    <script src="{% static 'pipeline/vendors/Flot/jquery.flot.resize.js' %}"></script>

    <!-- Flot plugins -->
    <script src="{% static 'pipeline/vendors/flot.orderbars/js/jquery.flot.orderBars.js' %}"></script>
    <script src="{% static 'pipeline/vendors/flot-spline/js/jquery.flot.spline.min.js' %}"></script>
    <script src="{% static 'pipeline/vendors/flot.curvedlines/curvedLines.js' %}"></script>

    <!-- DateJS -->
    <script src="{% static 'pipeline/vendors/DateJS/build/date.js' %}"></script>

    <!-- JQVMap -->
    <script src="{% static 'pipeline/vendors/jqvmap/dist/jquery.vmap.js' %}"></script>
    <script src="{% static 'pipeline/vendors/jqvmap/dist/maps/jquery.vmap.world.js' %}"></script>
    <script src="{% static 'pipeline/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js' %}"></script>

    <!-- bootstrap-daterangepicker -->
    <script src="{% static 'pipeline/vendors/moment/min/moment.min.js' %}"></script>
    <script src="{% static 'pipeline/vendors/bootstrap-daterangepicker/daterangepicker.js' %}"></script>

    <!-- Custom Theme Scripts -->
    <script src="{% static 'pipeline/build/js/custom.js' %}"></script>
	
  </body>
</html>
